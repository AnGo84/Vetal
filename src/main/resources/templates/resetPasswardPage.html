<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<meta charset="UTF-8">
<title>Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/font-awesome.min.css">
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>

</head>
<body>

	<!-- Include _menu.html
	<th:block th:include="/_menu"></th:block>
 	-->
	<div class="container py-5">
		<div class="row">

			<div class="col-md-6 mx-auto">

				<div class="card rounded-0">

					<div class="card-header">

						<h3>
							<i class="glyphicon glyphicon-lock" style="font-size: 2em;"></i>
						</h3>
						<h2 class="text-center">Reset password</h2>

					</div>

					<div class="card-body">


						<div th:if="${#request.getParameter('error') == 'true'}"
							style="color: red; margin: 10px 0px;">
							<span th:text="#{message.password_error}">Wrong password</span>
						</div>

						<div th:if="${error}">
							<div class="alert alert-danger">
								<span th:text="${error}"></span>
							</div>
						</div>


						<form th:action="@{/change-password}" th:object="${passwordChangeForm}" method="post">

							<p class="error-message" th:if="${#fields.hasGlobalErrors()}"
								th:each="error : ${#fields.errors('global')}" th:text="${error}">Validation
								error</p>

							<input type="hidden" name="id" th:value="${id}" />

							<div class="form-group"
								th:classappend="${#fields.hasErrors('password')}? 'has-error':''">
								<div class="input-group">
									<span class="input-group-addon"> <i
										class="glyphicon glyphicon-lock"></i>
									</span> <input id="password" class="form-control"
										placeholder="password" type="password" th:field="*{password}" />
								</div>
								<p class="error-message"
									th:each="error: ${#fields.errors('password')}"
									th:text="${error}">Validation error</p>
							</div>
							<div class="form-group"
								th:classappend="${#fields.hasErrors('confirmPassword')}? 'has-error':''">
								<div class="input-group">
									<span class="input-group-addon"> <i
										class="glyphicon glyphicon-lock"></i>
									</span> <input id="confirmPassword" class="form-control"
										placeholder="Confirm password" type="password"
										th:field="*{confirmPassword}" />
								</div>
								<p class="error-message"
									th:each="error: ${#fields.errors('confirmPassword')}"
									th:text="${error}">Validation error</p>
							</div>


							<!-- <div class="form-group">
								<label for="username" th:text="#{label.login}">Login:</label>
								<div class="input-group">

									<div class="input-group-prepend">
										<span class="input-group-text" id="basic-addon1"><i
											class="fa fa-user"></i></span>
									</div>
									<span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
									<input id="username" name="username" type="text"
										class="form-control" placeholder="Enter your Login"
										aria-label="Username" aria-describedby="basic-addon1">
								</div>
							</div>

							<div class="form-group">
								<label for="password" th:text="#{label.password}">Password:</label>
								<div class="input-group">

									<div class="input-group-prepend">
										<span class="input-group-text" id="basic-addon2"><i
											class="fa fa-lock"></i></span>
									</div>
									<input id="password" name='password' type='password'
										class="form-control" placeholder="Enter your Password"
										aria-label="Password" aria-describedby="basic-addon2">
								</div>
							</div> -->

							<hr />

							<div class="form-group">
								<button name="submit" type="submit"
									class="btn btn-primary btn-block" value="submit"
									th:text="#{label.apply}">Apply</button>
							</div>

							<!-- <div class="form-group">
                                    <button type="submit" class="btn btn-block btn-success">Reset password</button>
                              </div> -->

						</form>



						<div class="row">
							<div class="col-md-12">
								New user? <a href="/" th:href="@{/registration}">Register</a>
							</div>
							<div class="col-md-12">
								Already registered? <a href="/" th:href="@{/login}">Login</a>
							</div>
						</div>


					</div>

					<!-- card.// -->
				</div>

			</div>
		</div>
	</div>


</body>
</html>